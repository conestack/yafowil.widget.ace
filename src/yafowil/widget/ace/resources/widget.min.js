var yafowil_ace=function(e,i){"use strict";class a{static initialize(e){i(".ace-editor-wrapper",e).each((function(){let e=i(this);void 0!==window.yafowil_array&&window.yafowil_array.inside_template(e)||new a(e,e.data("yafowil-ace"))}))}constructor(e,a){e.data("yafowil-ace",this),this.elem=e,this.opts=a,this.ed_elem=i(".ace-editor",e),this.textarea=i(".ace-editor-value",e),a.basepath&&ace.config.set("basePath",a.basepath);let t=this.editor=ace.edit(this.ed_elem.attr("id"));t.setTheme(`ace/theme/${a.theme}`);let o=t.getSession();o.setMode(`ace/mode/${a.mode}`),o.on("change",this.change_handle.bind(this))}change_handle(e){this.textarea.val(this.editor.getValue())}}function t(e,i){a.initialize(i)}function o(){void 0!==window.yafowil_array&&window.yafowil_array.on_array_event("on_add",t)}return i((function(){void 0!==window.ts?ts.ajax.register(a.initialize,!0):void 0!==window.bdajax?bdajax.register(a.initialize,!0):a.initialize(),o()})),e.AceWidget=a,e.ace_on_array_add=t,e.register_array_subscribers=o,Object.defineProperty(e,"__esModule",{value:!0}),window.yafowil=window.yafowil||{},window.yafowil.ace=e,e}({},jQuery);
